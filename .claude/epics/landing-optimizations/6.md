---
name: contact-form-progressive-disclosure
title: Contact Form Optimization & Progressive Disclosure
epic: landing-optimizations
batch: 2
priority: high
complexity: medium
estimated_hours: 12
status: open
blocks_on: [5]
created: 2026-02-05T06:29:43Z
updated: 2026-02-05T06:40:35Z
---

# Task 6: Contact Form Optimization & Progressive Disclosure

## Overview

Redesign contact form using progressive disclosure principles to reduce friction and increase conversion rates. Implement business-type awareness and WhatsApp integration for immediate engagement.

## Business Context

Traditional contact forms have high abandonment rates (60-80%) due to overwhelming field requirements. Progressive disclosure reduces cognitive load and increases completion rates by 25-35%. Immediate WhatsApp connection provides instant gratification for prospects.

## Technical Requirements

### Progressive Form Structure

#### Step 1: Business Context (Initial - Always Visible)
```typescript
interface InitialFormStep {
  businessType: 'salon' | 'restaurant' | 'clinic' | 'other';
  businessName: string;
  ownerName: string;
}
```

#### Step 2: Contact Details (Conditional)
```typescript
interface ContactFormStep {
  phone: string;
  email: string;
  preferredContact: 'whatsapp' | 'email' | 'phone';
}
```

#### Step 3: Business Details (Optional Enhancement)
```typescript
interface BusinessDetailsStep {
  currentTools: string[];
  mainPainPoint: string;
  monthlyCustomers: string;
  preferredDemo: 'immediate' | 'scheduled';
}
```

### Business-Type Integration
- Leverage business type from Task 5 (URL parameter or selection)
- Pre-populate business type if already selected
- Adapt subsequent questions based on business type

### WhatsApp Integration

#### Immediate WhatsApp Flow
```typescript
interface WhatsAppIntegration {
  generateWhatsAppLink: (formData: ContactFormData) => string;
  prefillMessage: (businessType: string, businessName: string) => string;
  trackWhatsAppClick: () => void;
}
```

#### WhatsApp Message Templates
- **Salon:** "Hola! Soy [nombre] de [salón]. Me interesa automatizar las citas de mi salón con WhatsApp. ¿Podemos agendar una demo?"
- **Restaurant:** "Hola! Soy [nombre] de [restaurante]. Quiero automatizar las reservas. ¿Cuándo podemos hablar?"
- **Clinic:** "Hola! Soy [nombre] de [clínica]. Me interesa automatizar las citas médicas. ¿Podemos agendar una llamada?"

### Form Validation & UX

#### Client-Side Validation
- Real-time field validation with immediate feedback
- Business name format validation
- Phone number format validation (Mexican numbers)
- Email format validation with typo suggestions

#### Progressive Enhancement
- Form works without JavaScript (basic submission)
- Enhanced UX with JavaScript enabled
- Keyboard navigation support
- Screen reader compatibility

### Conversion Optimization Features

#### Social Proof Integration
- "Únete a [X] negocios que ya automatizan con nosotros"
- Real business logos (with permission)
- Live testimonial rotation

#### Urgency/Scarcity Elements
- "Demo gratuita por tiempo limitado"
- "Solo [X] demos disponibles esta semana"
- Dynamic availability indicators

#### Trust Signals
- Security badges
- "No spam, prometido" messaging
- Money-back guarantee mention

## Implementation Details

### Component Architecture
```
components/
├── contact/
│   ├── ContactForm.tsx
│   ├── ProgressiveForm.tsx
│   ├── FormStep.tsx
│   ├── BusinessTypeSelector.tsx
│   ├── ContactFields.tsx
│   ├── WhatsAppButton.tsx
│   ├── ValidationFeedback.tsx
│   └── SocialProof.tsx
```

### State Management
```typescript
interface ContactFormState {
  currentStep: number;
  formData: Partial<ContactFormData>;
  validation: ValidationState;
  isSubmitting: boolean;
  businessType: string;
  showWhatsApp: boolean;
}
```

### Form Submission Handling
- Primary: WhatsApp redirect (highest conversion)
- Secondary: Email submission to Supabase
- Fallback: Basic form submission
- Analytics tracking for each path

### Mobile-First Design
- Touch-friendly inputs (min 44px)
- Optimized keyboard types (tel, email)
- Swipe gestures between steps
- Reduced typing with smart defaults

## Acceptance Criteria

### Functional Requirements
- [ ] Three-step progressive form flow
- [ ] Business type integration from Task 5
- [ ] WhatsApp link generation and tracking
- [ ] Real-time form validation
- [ ] Mobile-optimized interaction
- [ ] Fallback for non-JavaScript users

### User Experience Requirements
- [ ] Form completion < 60 seconds
- [ ] Clear progress indication
- [ ] No fields marked as "required" beyond step 1
- [ ] One-click WhatsApp connection
- [ ] Intelligent error messages
- [ ] Smooth step transitions (300ms)

### Technical Requirements
- [ ] TypeScript interfaces for all form data
- [ ] Zod schema validation
- [ ] Accessibility compliance (WCAG 2.1 AA)
- [ ] Form analytics integration
- [ ] A/B testing capability built-in

### Conversion Optimization
- [ ] A/B testing for form variants
- [ ] Conversion tracking setup
- [ ] Abandonment analytics
- [ ] WhatsApp click tracking
- [ ] Form field analytics (time spent, errors)

## Dependencies

### Prerequisites
- Task 5: Business type detection and state
- Analytics setup (PostHog/Mixpanel)

### External Dependencies
- WhatsApp Business API or web.whatsapp.com integration
- Email service provider (Supabase auth emails)
- Form validation library (Zod)

## Testing Strategy

### Unit Tests
- Form validation logic
- WhatsApp link generation
- Business type integration
- State management functions

### Integration Tests
- Complete form flow testing
- WhatsApp integration testing
- Business type context passing
- Analytics event firing

### User Testing
- A/B testing infrastructure
- Conversion rate monitoring
- User journey analytics
- Heat mapping setup

## Performance Targets

- **Form load time:** < 300ms
- **Step transition:** < 200ms
- **Validation response:** < 100ms
- **WhatsApp redirect:** < 500ms
- **Bundle size:** < 25KB gzipped

## A/B Testing Variants

### Variant A: Conservative (Baseline)
- Standard 3-step flow
- Traditional field labels
- "Solicitar Demo" CTA

### Variant B: Aggressive WhatsApp-First
- WhatsApp-first messaging
- "Chatear por WhatsApp" primary CTA
- Reduced form fields

### Variant C: Social Proof Heavy
- Customer logos prominent
- Testimonial snippets
- "Únetenos" messaging

## Analytics & Tracking

### Conversion Events
- Form start
- Step completion
- Form abandonment (per step)
- WhatsApp click
- Email submission
- Demo booking

### Behavioral Metrics
- Time per step
- Error frequency per field
- Mobile vs desktop completion
- Business type distribution

## Notes

Form optimization is critical for conversion. Focus on reducing friction while maintaining lead quality. WhatsApp integration should feel natural and immediate, not pushy.

## Deliverables

1. `components/contact/ProgressiveForm.tsx` - Main form component
2. `utils/whatsapp.ts` - WhatsApp integration utilities
3. `schemas/contactForm.ts` - Zod validation schemas
4. `hooks/useContactForm.ts` - Form logic hook
5. A/B testing configuration
6. Analytics tracking setup
7. Form completion funnel documentation
